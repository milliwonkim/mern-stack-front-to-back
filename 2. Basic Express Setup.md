\* Chapter 5: MongoDB Setup With mLab
=====================================

![](images/5-mongodb-setup-with-mlab-1.png)

![](images/5-mongodb-setup-with-mlab-2.png)

![](images/5-mongodb-setup-with-mlab-3.png)

![](images/5-mongodb-setup-with-mlab-4.png)

![](images/5-mongodb-setup-with-mlab-5.png)

![](images/5-mongodb-setup-with-mlab-6.png)

![](images/5-mongodb-setup-with-mlab-7.png)

![](images/5-mongodb-setup-with-mlab-8.png)

![](images/5-mongodb-setup-with-mlab-9.png)

![](images/5-mongodb-setup-with-mlab-10.png)

![](images/5-mongodb-setup-with-mlab-11.png)

![](images/5-mongodb-setup-with-mlab-12.png)

![](images/5-mongodb-setup-with-mlab-13.png)

\* Chapter 6: Install Dependencies & Basic Server Setup- chapter 6
==================================================================

1\. update

- server.js

2\. 

![](images/6-install-dependencies-and-basic-server-setup-1.png)

![](images/6-install-dependencies-and-basic-server-setup-2.png)

![](images/6-install-dependencies-and-basic-server-setup-3.png)

![](images/6-install-dependencies-and-basic-server-setup-4.png)

![](images/6-install-dependencies-and-basic-server-setup-5.png)

![](images/6-install-dependencies-and-basic-server-setup-6.png)

![](images/6-install-dependencies-and-basic-server-setup-7.png)

![](images/6-install-dependencies-and-basic-server-setup-8.png)

![](images/6-install-dependencies-and-basic-server-setup-9.png)

![](images/6-install-dependencies-and-basic-server-setup-10.png)

![](images/6-install-dependencies-and-basic-server-setup-11.png)

![](images/6-install-dependencies-and-basic-server-setup-12.png)

```js
//server.js

//entry-point file

const express = require('express');

//initialize
const app = express();

//simple route to get something up and running
app.get('/', (req, res) => res.send('Hello'));

/**when you deploy to Heroku, you wanna set it to process.env.PORT || 5000 */
const port = process.env.PORT || 5000;

/** using backtick to use dynamic variable */
app.listen(port, () => console.log(`Server running on port ${port}`))
```

\* Chapter 7: Connecting To MongoDB With Mongoose
=================================================

1\. update

- keys.js

- server.js

2\. 

![](images/7-connecting-to-mongodb-with-mongoose-1.png)

![](images/7-connecting-to-mongodb-with-mongoose-2.png)

```js
//config/keys.js

module.exports = {
    mongoURI: 'mongodb://brad:brad123@ds129260.mlab.com:29260/dev-connector'
}
```

```js
//server.js

//entry-point file

const express = require('express');
const mongoose = require('mongoose');

//initialize
const app = express();

/**DB config */
const db = require('./config/keys').mongoURI;

/**connect to MongoDB
 * using promise
*/
mongoose
.connect(db)
.then(() => console.log('MongoDB Connected'))
.catch(err => console.log(err));

//simple route to get something up and running
app.get('/', (req, res) => res.send('Hello'));

/**when you deploy to Heroku, you wanna set it to process.env.PORT || 5000 */
const port = process.env.PORT || 5000;

/** using backtick to use dynamic variable */
app.listen(port, () => console.log(`Server running on port ${port}`))
```

\* Chapter 8: Route Files With Express Router
=============================================

1\. update

- server.js

- users.js

- profile.js

- posts.js

- .gitignore

2.

![](images/8-route-files-with-express-router-1.png)

![](images/8-route-files-with-express-router-2.png)

![](images/8-route-files-with-express-router-3.png)

```js
//server.js

//entry-point file

const express = require('express');
const mongoose = require('mongoose');

const users = require('./routes/api/users');
const profile = require('./routes/api/profile');
const posts = require('./routes/api/posts');

//initialize
const app = express();

/**DB config */
const db = require('./config/keys').mongoURI;

/**connect to MongoDB
 * using promise
*/
mongoose
.connect(db)
.then(() => console.log('MongoDB Connected'))
.catch(err => console.log(err));

//simple route to get something up and running
app.get('/', (req, res) => res.send('Hello'));

/** Use Routes */
app.use('/api/users', users);
app.use('/api/profile', profile);
app.use('/api/posts', posts);

/**when you deploy to Heroku, you wanna set it to process.env.PORT || 5000 */
const port = process.env.PORT || 5000;

/** using backtick to use dynamic variable */
app.listen(port, () => console.log(`Server running on port ${port}`))
```

```js
//routes/api/posts.js

const express = require('express');
const router = express.Router();

/**you don't need to say '/api/posts/test' 
 * because we already did in server.js 'app.use('/api/posts', posts);'
*/

/**res.json() is similar to res.send()
 * res.json() will automatically serve a status of 200 which means everything is OK
*/
router.get('/test', (req, res) => res.json({msg: "Posts Works"}));

module.exports = router;
```

```js
//routes/api/profile.js

const express = require('express');
const router = express.Router();

/**you don't need to say '/api/profile/test' 
 * because we already did in server.js 'app.use('/api/profile', profile);'
*/

/**res.json() is similar to res.send()
 * res.json() will automatically serve a status of 200 which means everything is OK
*/
router.get('/test', (req, res) => res.json({msg: "Profile Works"}));

module.exports = router;
```

```js
//routes/api/users.js

const express = require('express');
const router = express.Router();

/**you don't need to say '/api/users/test' 
 * because we already did in server.js 'app.use('/api/users', users);'
*/

/**res.json() is similar to res.send()
 * res.json() will automatically serve a status of 200 which means everything is OK
*/
router.get('/test', (req, res) => res.json({msg: "Users Works"}));

module.exports = router;
```

```gitignore
//.gitignore
#'.gitignore' tells what not to push to our repository 
#and we definitely don't want the node_modules folder

/node_modules
package-lock.json
/config/keys_dev.js
```